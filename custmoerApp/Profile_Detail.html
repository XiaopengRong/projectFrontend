<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Customer Application</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script>

function reDirectToDependent(){
      document.location.href = '\Add_Dependent.html'


     }

    window.onload = function() {


    //  document.getElementsByName('username').values = sessionStorageData;
    document.getElementById("username").setAttribute('value',sessionStorage.getItem('username'));
    document.getElementById("register").setAttribute('value',sessionStorage.getItem('register'));
    document.getElementById("first_name").setAttribute('value',sessionStorage.getItem('first_name'));
    document.getElementById("last_name").setAttribute('value',sessionStorage.getItem('last_name'));
    document.getElementById("email").setAttribute('value',sessionStorage.getItem('email'));
    document.getElementById("address").setAttribute('value',sessionStorage.getItem('address'));
    document.getElementById("city").setAttribute('value',sessionStorage.getItem('city'));
    document.getElementById("state").setAttribute('value',sessionStorage.getItem('state'));
    document.getElementById("zip").setAttribute('value',sessionStorage.getItem('zip'));
    document.getElementById("phone").setAttribute('value',sessionStorage.getItem('phone'));
    //  console.log('document.getElementsByName.values', document.getElementsByName('username').values)

    }

      function deRegister() {
        var result = confirm("Are you sure to deregister this account? ");
        const id = sessionStorage.getItem('id')
        if(result == false){return}
        fetch( "http://localhost:8080/api/v01/customers/"+`${id}`,{headers: {
            'content-type': 'application/json;charset=utf-8',
         
            }} ,{method:'POST'}
        ).then(
          alert("You deregister an account successfully!"),
          document.location.href = '\Table_Customer.html',
          console.log("Done")
        )

         
      }
  </script>
  </head>
  <body>
    <div class="container">
      <h1 class="well">Customer Profile</h1>
      <div class="col-lg-12 well">
        <div class="row">
          <form name="RegForm" method="POST">
            <div class="row">
              <div class="col-sm-4 form-group">
                <label>User name</label>
                <input type="text" id="username"  placeholder="Enter User name Here.." class="form-control" disabled />

                
              </div>

              <div class="col-sm-4 form-group">
                <label>Register</label>
                <input type="text" id="register"  class="form-control" disabled />

                
              </div>
</div>

            <div class="row">
              <div class="col-sm-6 form-group">
                <label>First Name</label>
                <input type="text"  id="first_name" placeholder="Enter First Name Here.." class="form-control" disabled />
              </div>
              <div class="col-sm-6 form-group">
                <label>Last Name</label>
                <input type="text" id="last_name" placeholder="Enter Last Name Here.." class="form-control" disabled/>
              </div>
              <div class="col-sm-6 form-group">
            
              </div>

            </div>
            <div class="form-group">
              <label>Address</label>
              <input placeholder="Enter Address Here.." id="address" rows="3" class="form-control" disabled/>
            </div>
            <div class="row">
              <div class="col-sm-4 form-group">
                <label>City</label>
                <input type="text" id="city" placeholder="Enter City Name Here.." class="form-control" disabled/>
              </div>
              <div class="col-sm-4 form-group">
                <label>State</label>
                <input type="text" id="state" placeholder="Enter State Name Here.." class="form-control" disabled />
              </div>
              <div class="col-sm-4 form-group">
                <label>Zip</label>
                <input type="text" id="zip" placeholder="Enter Zip Code Here.." class="form-control" disabled/>
              </div>
            </div>

            <div class="form-group">
              <label>Phone Number</label>
              <input type="text" id="phone" placeholder="Enter Phone Number Here.." class="form-control" disabled/>
            </div>
            <div class="form-group">
              <label>Email Address</label>
              <input type="text" id="email" placeholder="Enter Email Address Here.." class="form-control" disabled/>
            </div>

            <div class="row">
              <div class="col-sm-6 form-group">
                <button type="button" style= "background-color:red;border-color:red" class="btn btn-lg btn-info" onclick="deRegister()">Deregister this Account</button>
                </div>
                <div class="col-sm-6 form-group">
                  <button type="button"  class="btn btn-lg btn-info" onclick="reDirectToDependent()">Add Dependent</button>
                </div>
              </div>

              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
