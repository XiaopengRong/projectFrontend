<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script>
      function GEEKFORGEEKS() {

          const url = 'http://localhost:8080/api/v01/customers/register'
          var username =
              document.forms.RegForm.username.value;
          var email =
              document.forms.RegForm.email.value;

              var phone =
              document.forms.RegForm.phone.value;
          var first_name =
              document.forms.RegForm.first_name.value;
          var last_name =
              document.forms.RegForm.last_name.value;
          var password =
              document.forms.RegForm.password.value;
          var address =
              document.forms.RegForm.address.value;
          var city =
              document.forms.RegForm.city.value;
          var zip =
              document.forms.RegForm.zip.value;

          var confirmPassword = document.
          forms.RegForm.confirmPassword.value;

          var state =
              document.forms.RegForm.state.value;
          var regEmail=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/g;  //Javascript reGex for Email Validation.
          var regPhone=/^\d{10}$/;                                        // Javascript reGex for Phone Number validation.
          var regName = /\d+$/g;                                    // Javascript reGex for Name validation

          if (first_name == "" || regName.test(first_name)) {
              window.alert("Please enter your first name properly.");
              first_name.focus();
              return false;
          }

          if (last_name == "" || regName.test(last_name)) {
              window.alert("Please enter your last name properly.");
              last_name.focus();
              return false;
          }

          if (address == "") {
              window.alert("Please enter your address.");
              address.focus();
              return false;
          }
           
          if (email == "" || !regEmail.test(email)) {
              window.alert("Please enter a valid e-mail address.");
              email.focus();
              return false;
          }
            
          if (password == "") {
              alert("Please enter your password");
              password.focus();
              return false;
          }

          if (zip == "") {
              alert("Please enter your zip");
              zip.focus();
              return false;
          }

          if (state == "") {
              alert("Please enter your state");
              state.focus();
              return false;
          }

          if (city == "") {
              alert("Please enter your city");
              city.focus();
              return false;
          }

          if(password.length <6){
              alert("Password should be atleast 6 character long");
              password.focus();
              return false;

          }

          if(password !== confirmPassword){
              alert("You confirm your password incorrectly");
              password.focus();
              return false;

          }
          if (phone == "" || !regPhone.test(phone)) {
              alert("Please enter valid phone number.");
              phone.focus();
              return false;
          }

          const data = {
            username :username,
            password:password,
            email:email,
            first_name:first_name,
            last_name:last_name,
            register:1,
            address:address,
            zip:zip,
            city:city,
            state:state,
            phone:phone,
            dependent:[]
          };
 
          console.log(data);
          fetch(url, {headers: {
            'content-type': 'application/json;charset=utf-8',
         
            }, method:'POST',mode:'cors',body: JSON.stringify(data)})
          .then(
          alert(),
          response => response.text())
           .then(data => console.log(data))
           .catch(err => { throw err });;
      }
  </script>
  </head>
  <body>
    <div class="container">
      <h1 class="well">New customer register</h1>
      <div class="col-lg-12 well">
        <div class="row">
          <form name="RegForm" method="POST">
            <div class="row">
              <div class="col-sm-4 form-group">
                <label>User name</label>
                <input type="text" value="Kenji" name="username" placeholder="Enter User name Here.." class="form-control" />
              </div>

              <div class="col-sm-4 form-group">
                <label>Password</label>
                <input type="password"  value = "fdfdfdsf" name="password"  placeholder="Enter Password Here.." class="form-control" />
              </div>
              <div class="col-sm-4 form-group">
                <label>Confirm Password</label>
                <input type="password"  value = "fdfdfdsf" name="confirmPassword"  placeholder="Confirm Password Here.." class="form-control" />
              </div>
            </div>

            <div class="row">
              <div class="col-sm-6 form-group">
                <label>First Name</label>
                <input type="text"   value = "fdfdfdsf" name="first_name" placeholder="Enter First Name Here.." class="form-control" />
              </div>
              <div class="col-sm-6 form-group">
                <label>Last Name</label>
                <input type="text"  value = "fdfdfdsf" name="last_name" placeholder="Enter Last Name Here.." class="form-control" />
              </div>
            </div>
            <div class="form-group">
              <label>Address</label>
              <textarea placeholder="Enter Address Here.."  name="address" rows="3" class="form-control"> value = "fdfdfdsf"</textarea>
            </div>
            <div class="row">
              <div class="col-sm-4 form-group">
                <label>City</label>
                <input type="text" name="city"  value = "fdfdfdsf" placeholder="Enter City Name Here.." class="form-control" />
              </div>
              <div class="col-sm-4 form-group">
                <label>State</label>
                <input type="text" name="state"   value = "fdfdfdsf" placeholder="Enter State Name Here.." class="form-control" />
              </div>
              <div class="col-sm-4 form-group">
                <label>Zip</label>
                <input type="text" name="zip"  value = "787867" placeholder="Enter Zip Code Here.." class="form-control" />
              </div>
            </div>

            <div class="form-group">
              <label>Phone Number</label>
              <input type="text" name="phone" value = "1234567890" placeholder="Enter Phone Number Here.." class="form-control" />
            </div>
            <div class="form-group">
              <label>Email Address</label>
              <input type="text" name="email" value = "fhdfhfhf@gdfg.com" placeholder="Enter Email Address Here.." class="form-control" />
            </div>

            <div class="row">
              <div class="col-sm-2 form-group">
                  <button type="button" class="btn btn-lg btn-info" onclick="GEEKFORGEEKS()">Submit</button>
                </div>
                <div class="col-sm-2 form-group">
                  <button type="button" style= "background-color:orange;border-color:orange" class="btn btn-lg btn-info">Reset</button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
